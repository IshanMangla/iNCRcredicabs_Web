<app-header ></app-header>
 
    <!-- Pop up delete -->

<div id="popup-content" class="sm-col-12" *ngIf="showDeactivatePopup">
    <div id="deactivate-popup" class="">
          Are You Sure you want to deactivate this Employee?
        <div>
            <button class="btn btn-md" (click)="changeStatus()">Yes</button>
            <button class="btn btn-md" (click)="hidePopup()">No</button>
          </div>
        </div>
        <div id="popup-background">
    </div>
</div>

   <!-- Pop-UP Edit -->

  <div id="popup-content" class="container col-md-6 col-md-offset-3" *ngIf="showDeactivateEditPopup">
    <div id="deactivate-edit-popup" class="">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 style="text-align:center"> Edit Details</h3>
        </div>
        <!-- Form Name -->
        <form name="myForm" #f="ngForm" (ngSubmit)="onSave(f.value)" class="form-horizontal"role="form" >
          <fieldset>
  
          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="txtName">Name :</label>  
            <div class="col-md-4">
              <input id="txtName" name="txtName" type="text" placeholder="Enter your name"  [(ngModel)]="editElem.contactName" class="form-control input-md" required > 
            </div>
          </div>
  
          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="contactNbr">Phone :</label>  
            <div class="col-md-4">
              <input id="contactNbr" name="contactNbr" type="text" placeholder="Phone Number" [(ngModel)]="editElem.contactNbr" class="form-control input-md" required maxlength="10"> 
            </div>
          </div>
          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label" for="contactNbr">Qlid :</label>  
            <div class="col-md-4">
              <input id="Qlid" name="Qlid" type="text" placeholder="Qlid" class="form-control input-md" [(ngModel)]="editElem.Qlid" required maxlength="8"> 
            </div>
          </div>
          <!-- DropDown Input -->
          <div class="form-group">
            <label class="col-md-4 control-label" for="contactRole">Role :</label> 
            <div class="col-md-4">
              <select  id="contactRole" name="contactRole" [(ngModel)]="editElem.contactRole" class="form-control">
                <option disabled>Choose a role</option>
                <option value="Trannsport manager">Transport manager </option>
                <option value="admin">Admin</option>
                <option value="other">Other</option>
              </select>
            </div> 
          </div>
          <!-- DropDown Input -->
          <div class="form-group">
            <label class="col-md-4 control-label" for="contactSos">Sos :</label> 
            <div class="col-md-4">
              <select  id="contactSos" name="contactSos" [(ngModel)]="editElem.contactSos" class="form-control">
                <option disabled>Choose an option</option>
                <option value="1">Yes</option>
                <option value="0">No</option>
              </select>
            </div> 
          </div>
          <!-- DropDown Input -->
          <div class="form-group">
            <label class="col-md-4 control-label" for="contactSos">Priority :</label> 
            <div class="col-md-4">
              <select  id="contactSos" name="contactSos" [(ngModel)]="editElem.contactSosPriority" class="form-control">
                <option disabled>Choose priority</option>
                <option value="1">1</option>
                <option value="2">2</option>
              </select>
            </div> 
          </div>
  
          <!-- Button -->
          <div class="form-group">
            <label class="col-md-4 control-label" for="btnSubmit"></label>
            <div class="col-md-4">
              <button id="btnSubmit" name="btnSubmit" class="btn btn-primary pull-left" (click)="onSave()">Save</button>
              <button id="btnSubmit" name="btnCancel" class="btn btn-default pull-right" (click)="hideEditPopup()">Cancel</button>
            </div>
          </div>
        </fieldset>
      </form>
    </div>
  </div>
  <div id="popup-background">
  </div>
</div>

<div class="row col-sm-10 col-sm-offset-1">
  <div class="pull-left col-sm-10">
    <h1>Contacts</h1>
  </div>
  <div class="col-sm-2">
    <h1>
      <button id="btnAdd" name="btnAdd" class="btn btn-primary" (click)="onAdd()">Add Contact</button>
    </h1>
  </div>
</div>
<div class="row col-sm-10 col-sm-offset-1">
  <table class="table">
    <thead class="thead-light">
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Contact </th>
        <th scope="col">Qlid </th>
        <th scope="col">Role</th>
        <th scope="col">SOS</th>            
        <th scope="col">SOS Priority</th> 
        <th scope="col">Actions</th>           
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let elem of arr; let i = index">
        <td>{{elem.contactName}}</td>
        <td>{{elem.contactNbr }}</td>
        <td>{{elem.Qlid}}</td>
        <td>{{elem.contactRole}}</td>
        <td>
          <span *ngIf="elem.contactSos != 0" class="glyphicon glyphicon-ok"></span>
          <span *ngIf="elem.contactSos == 0" class="glyphicon glyphicon-remove"></span>      
        </td>
        <td>{{elem.contactSosPriority}}</td>
        <td>
          <button (click)="btnClick(elem)" class="btn btn-default"><span class="clickable"><i class="glyphicon glyphicon-pencil" ></i></span></button>
          <button (click)="showPopup(i)" class="btn btn-default"><span class="clickable"><i class="glyphicon glyphicon-trash" (click)="showPopup(i)"></i></span></button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
      

